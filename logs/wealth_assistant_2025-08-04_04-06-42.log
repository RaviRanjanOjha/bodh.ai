2025-08-04 04:06:42,181 - root - INFO - Logging configured successfully
2025-08-04 04:07:33,938 - api.routes.chat - INFO - Chat endpoint called with message: tell me FY22 Q1 total value for SBU "SBU - APJ"...
2025-08-04 04:07:33,940 - api.routes.chat - INFO - Request session_id: 0f80837d-4ef3-4b96-b1fb-9f694e87289b
2025-08-04 04:07:33,940 - api.routes.chat - INFO - Cookie session_id: 4405f895-eced-4183-98fa-4ce1ad96f77e
2025-08-04 04:07:35,006 - api.routes.chat - WARNING - Session ID mismatch - cleaning up old cookie. Request: 0f80837d-4ef3-4b96-b1fb-9f694e87289b, Cookie: 4405f895-eced-4183-98fa-4ce1ad96f77e
2025-08-04 04:07:35,007 - api.routes.chat - INFO - Target session_id: 0f80837d-4ef3-4b96-b1fb-9f694e87289b
2025-08-04 04:07:35,125 - api.routes.chat - INFO - Existing conversation found: False
2025-08-04 04:07:35,125 - api.routes.chat - INFO - Existing messages count: 0
2025-08-04 04:07:35,125 - api.routes.chat - INFO - Generating response...
2025-08-04 04:07:35,125 - services.assistant.chat - INFO - Processing query: tell me FY22 Q1 total value for SBU "SBU - APJ"...
2025-08-04 04:07:35,126 - services.assistant.chat - INFO - Compliance check passed
2025-08-04 04:07:35,365 - database.simulated_db - INFO - Using simulated database as fallback
2025-08-04 04:07:35,368 - services.assistant.chat - INFO - Handling general query with LLM: tell me FY22 Q1 total value for SBU "SBU - APJ"...
2025-08-04 04:07:43,054 - services.assistant.chat - INFO - LLM response generated: 52 characters
2025-08-04 04:07:43,055 - services.assistant.chat - INFO - Generated response: 52 characters
2025-08-04 04:07:43,055 - api.routes.chat - INFO - Response generated. Is compliant: True
2025-08-04 04:07:43,055 - api.routes.chat - INFO - Response length: 52
2025-08-04 04:07:43,055 - api.routes.chat - INFO - Saving conversation to database...
2025-08-04 04:07:43,055 - services.assistant.chat - INFO - Saving conversation for session 0f80837d-4ef3-4b96-b1fb-9f694e87289b with 2 messages
2025-08-04 04:07:43,055 - services.storage.conversation - INFO - Saving conversation for session 0f80837d-4ef3-4b96-b1fb-9f694e87289b with 2 messages
2025-08-04 04:07:43,374 - services.assistant.chat - INFO - Successfully saved conversation for session 0f80837d-4ef3-4b96-b1fb-9f694e87289b
2025-08-04 04:07:43,375 - api.routes.chat - INFO - ✅ Conversation saved successfully: 0f80837d-4ef3-4b96-b1fb-9f694e87289b
2025-08-04 04:07:43,375 - api.routes.chat - INFO - Setting session cookie: 0f80837d-4ef3-4b96-b1fb-9f694e87289b
2025-08-04 04:07:43,375 - api.routes.chat - INFO - Chat endpoint completed successfully
2025-08-04 04:08:25,750 - api.routes.chat - INFO - Chat endpoint called with message: list all fy22 q1 data for SBU "SBU - APJ"...
2025-08-04 04:08:25,751 - api.routes.chat - INFO - Request session_id: 0f80837d-4ef3-4b96-b1fb-9f694e87289b
2025-08-04 04:08:25,751 - api.routes.chat - INFO - Cookie session_id: 0f80837d-4ef3-4b96-b1fb-9f694e87289b
2025-08-04 04:08:26,849 - api.routes.chat - INFO - Target session_id: 0f80837d-4ef3-4b96-b1fb-9f694e87289b
2025-08-04 04:08:26,966 - api.routes.chat - INFO - Existing conversation found: True
2025-08-04 04:08:26,967 - api.routes.chat - INFO - Existing messages count: 2
2025-08-04 04:08:26,967 - api.routes.chat - INFO - Generating response...
2025-08-04 04:08:26,967 - services.assistant.chat - INFO - Processing query: list all fy22 q1 data for SBU "SBU - APJ"...
2025-08-04 04:08:26,967 - services.assistant.chat - INFO - Compliance check passed
2025-08-04 04:08:27,058 - services.assistant.chat - INFO - Loaded 2 messages from conversation history
2025-08-04 04:08:27,165 - database.simulated_db - INFO - Using simulated database as fallback
2025-08-04 04:08:27,166 - services.assistant.chat - INFO - Handling general query with LLM: list all fy22 q1 data for SBU "SBU - APJ"...
2025-08-04 04:08:36,856 - services.assistant.chat - INFO - LLM response generated: 373 characters
2025-08-04 04:08:36,857 - services.assistant.chat - INFO - Generated response: 373 characters
2025-08-04 04:08:36,857 - api.routes.chat - INFO - Response generated. Is compliant: True
2025-08-04 04:08:36,857 - api.routes.chat - INFO - Response length: 373
2025-08-04 04:08:36,857 - api.routes.chat - INFO - Saving conversation to database...
2025-08-04 04:08:36,858 - services.assistant.chat - INFO - Saving conversation for session 0f80837d-4ef3-4b96-b1fb-9f694e87289b with 2 messages
2025-08-04 04:08:36,858 - services.storage.conversation - INFO - Saving conversation for session 0f80837d-4ef3-4b96-b1fb-9f694e87289b with 2 messages
2025-08-04 04:08:36,968 - services.storage.conversation - INFO - Found existing conversation for session 0f80837d-4ef3-4b96-b1fb-9f694e87289b, appending messages
2025-08-04 04:08:40,080 - services.assistant.chat - INFO - Successfully saved conversation for session 0f80837d-4ef3-4b96-b1fb-9f694e87289b
2025-08-04 04:08:40,081 - api.routes.chat - INFO - ✅ Conversation saved successfully: 0f80837d-4ef3-4b96-b1fb-9f694e87289b
2025-08-04 04:08:40,081 - api.routes.chat - INFO - Chat endpoint completed successfully
2025-08-04 04:12:41,954 - api.routes.chat - INFO - Chat endpoint called with message: in tabular format...
2025-08-04 04:12:41,954 - api.routes.chat - INFO - Request session_id: 0f80837d-4ef3-4b96-b1fb-9f694e87289b
2025-08-04 04:12:41,954 - api.routes.chat - INFO - Cookie session_id: 0f80837d-4ef3-4b96-b1fb-9f694e87289b
2025-08-04 04:12:43,776 - api.routes.chat - INFO - Target session_id: 0f80837d-4ef3-4b96-b1fb-9f694e87289b
2025-08-04 04:12:43,882 - api.routes.chat - INFO - Existing conversation found: True
2025-08-04 04:12:43,882 - api.routes.chat - INFO - Existing messages count: 4
2025-08-04 04:12:43,882 - api.routes.chat - INFO - Generating response...
2025-08-04 04:12:43,883 - services.assistant.chat - INFO - Processing query: in tabular format...
2025-08-04 04:12:43,883 - services.assistant.chat - INFO - Compliance check passed
2025-08-04 04:12:44,008 - services.assistant.chat - INFO - Loaded 4 messages from conversation history
2025-08-04 04:12:44,126 - database.simulated_db - INFO - Using simulated database as fallback
2025-08-04 04:12:44,128 - services.assistant.chat - INFO - Handling general query with LLM: in tabular format...
2025-08-04 04:13:47,485 - services.assistant.chat - INFO - LLM response generated: 659 characters
2025-08-04 04:13:47,486 - services.assistant.chat - INFO - Generated response: 659 characters
2025-08-04 04:13:47,486 - api.routes.chat - INFO - Response generated. Is compliant: True
2025-08-04 04:13:47,486 - api.routes.chat - INFO - Response length: 659
2025-08-04 04:13:47,486 - api.routes.chat - INFO - Saving conversation to database...
2025-08-04 04:13:47,486 - services.assistant.chat - INFO - Saving conversation for session 0f80837d-4ef3-4b96-b1fb-9f694e87289b with 2 messages
2025-08-04 04:13:47,487 - services.storage.conversation - INFO - Saving conversation for session 0f80837d-4ef3-4b96-b1fb-9f694e87289b with 2 messages
2025-08-04 04:13:47,603 - services.storage.conversation - INFO - Found existing conversation for session 0f80837d-4ef3-4b96-b1fb-9f694e87289b, appending messages
2025-08-04 04:13:59,951 - services.assistant.chat - INFO - Successfully saved conversation for session 0f80837d-4ef3-4b96-b1fb-9f694e87289b
2025-08-04 04:13:59,951 - api.routes.chat - INFO - ✅ Conversation saved successfully: 0f80837d-4ef3-4b96-b1fb-9f694e87289b
2025-08-04 04:13:59,951 - api.routes.chat - INFO - Chat endpoint completed successfully
